{"target_folder":"1145","files":[{"path":"\\__ns-uploader-manifest__.json","type":"application/json","contents":"{\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\manifest.json\":\"\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\NamedAnchors\\\\README.md\":\"c5212ffbb250f7b483d1ed636b86f4a8\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\CreditLock.json\":\"6abeff7eca5d9d34c9827624593fbf8f\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\CreateQuoteMenuItem.json\":\"34c8e26c7585cfa55df6df0b36a12320\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\Extension.json\":\"93490c449b2aeb74bb171409403ca75b\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\Fix.CartConfiguration.json\":\"f5c61a4324500422a3bb024d9027551e\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\Fix.Home.Configuration.json\":\"cd4cac7a551e7475b5598aa8d83bfb73\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\Fix.MoveNavigation.Configuration.json\":\"3cff1e5f32053cf874081bbf62d41104\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Configuration\\\\QuickOrderMenuItem.json\":\"2cb8c1dcea3d335624a3ef43398493dc\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\JavaScript\\\\Trevera.Layout.Checkout.Extension.js\":\"3b7208f3a44e765201a837cd349c10ad\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\JavaScript\\\\Trevera.Layout.MyAccount.Extension.js\":\"44e79c073cb43a0994c84775a725c779\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\JavaScript\\\\Trevera.Layout.Shopping.Extension.js\":\"b124edd1bd0534322e05222ae0a09678\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Extension\\\\Sass\\\\_layout-extension.scss\":\"49465f03d472244e35d41611d02c100d\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Configuration\\\\Header.Custom.json\":\"f40a5bfd92d7e52832a096bc957d4ce5\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Sass\\\\_header-custom.scss\":\"3887da8f09a8184615ac030ed33d2092\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Sass\\\\_layout-header.scss\":\"83b883c633b439575e6eb8eed751da35\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Sass\\\\_my-account-menu.scss\":\"d41d8cd98f00b204e9800998ecf8427e\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\JavaScript\\\\Trevera.CategoryHelpers.js\":\"8b6236a419d77926f3f7a2e57a301f82\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\JavaScript\\\\Trevera.Layout.Header.js\":\"35b14716e362f60f526d06c9a27932c6\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Templates\\\\sc_header_menu.tpl\":\"4c0f08137fc50ee154dad4caaedbdd18\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Templates\\\\sc_header.tpl\":\"fe572ecf7c2c832d68b2e320addd7f9f\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\Header\\\\Templates\\\\sc_site_search.tpl\":\"831308f5715eec40e51e3ab67ae6a86b\",\"DeployDistribution\\\\Trevera\\\\Layout@1.0.0\\\\Modules\\\\NamedAnchors\\\\JavaScript\\\\Trevera.NamedAnchors.Extension.js\":\"39e5e9b242600180cc4c8214dbed5ee9\"}"},{"path":"\\Trevera\\Layout@1.0.0\\manifest.json","type":"application/json","contents":"{\n    \"name\": \"Layout\",\n    \"fantasyName\": \"Layout\",\n    \"vendor\": \"Trevera\",\n    \"type\": \"extension\",\n    \"target\": \"SCA,SCS\",\n    \"target_version\": {\n        \"SCA\": \">=20.2.0\",\n        \"SCS\": \">=20.2.0\"\n    },\n    \"version\": \"1.0.0\",\n    \"description\": \"Layout extension for global elements\",\n    \"assets\": {\n        \"img\": {\n            \"files\": []\n        },\n        \"fonts\": {\n            \"files\": []\n        },\n        \"services\": {\n            \"files\": []\n        }\n    },\n    \"configuration\": {\n        \"files\": [\n            \"Modules/Extension/Configuration/Extension.json\",\n            \"Modules/Header/Configuration/Header.Custom.json\",\n            \"Modules/Extension/Configuration/CreateQuoteMenuItem.json\",\n            \"Modules/Extension/Configuration/Fix.CartConfiguration.json\",\n            \"Modules/Extension/Configuration/Fix.Home.Configuration.json\",\n            \"Modules/Extension/Configuration/Fix.MoveNavigation.Configuration.json\",\n            \"Modules/Extension/Configuration/QuickOrderMenuItem.json\",\n            \"Modules/Extension/Configuration/CreditLock.json\"\n        ]\n    },\n    \"templates\": {\n        \"application\": {\n            \"shopping\": {\n                \"files\": [\n                    \"Modules/Header/Templates/sc_header_menu.tpl\",\n                    \"Modules/Header/Templates/sc_header.tpl\",\n                    \"Modules/Header/Templates/sc_site_search.tpl\"\n                ]\n            },\n            \"myaccount\": {\n                \"files\": [\n                    \"Modules/Header/Templates/sc_header_menu.tpl\",\n                    \"Modules/Header/Templates/sc_header.tpl\",\n                    \"Modules/Header/Templates/sc_site_search.tpl\"\n                ]\n            },\n            \"checkout\": {\n                \"files\": [\n                    \"Modules/Header/Templates/sc_header_menu.tpl\",\n                    \"Modules/Header/Templates/sc_header.tpl\",\n                    \"Modules/Header/Templates/sc_site_search.tpl\"\n                ]\n            }\n        }\n    },\n    \"sass\": {\n        \"entry_points\": {\n            \"shopping\": \"Modules/Extension/Sass/_layout-extension.scss\",\n            \"myaccount\": \"Modules/Extension/Sass/_layout-extension.scss\",\n            \"checkout\": \"Modules/Extension/Sass/_layout-extension.scss\"\n        },\n        \"files\": [\n            \"Modules/Extension/Sass/_layout-extension.scss\",\n            \"Modules/Header/Sass/_header-custom.scss\",\n            \"Modules/Header/Sass/_layout-header.scss\",\n            \"Modules/Header/Sass/_my-account-menu.scss\"\n        ]\n    },\n    \"javascript\": {\n        \"entry_points\": {\n            \"shopping\": \"Modules/Extension/JavaScript/Trevera.Layout.Shopping.Extension.js\",\n            \"myaccount\": \"Modules/Extension/JavaScript/Trevera.Layout.MyAccount.Extension.js\",\n            \"checkout\": \"Modules/Extension/JavaScript/Trevera.Layout.Checkout.Extension.js\"\n        },\n        \"application\": {\n            \"shopping\": {\n                \"files\": [\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Checkout.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.MyAccount.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Shopping.Extension.js\",\n                    \"Modules/Header/JavaScript/Trevera.CategoryHelpers.js\",\n                    \"Modules/Header/JavaScript/Trevera.Layout.Header.js\",\n                    \"Modules/NamedAnchors/JavaScript/Trevera.NamedAnchors.Extension.js\"\n                ]\n            },\n            \"myaccount\": {\n                \"files\": [\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Checkout.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.MyAccount.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Shopping.Extension.js\",\n                    \"Modules/Header/JavaScript/Trevera.CategoryHelpers.js\",\n                    \"Modules/Header/JavaScript/Trevera.Layout.Header.js\",\n                    \"Modules/NamedAnchors/JavaScript/Trevera.NamedAnchors.Extension.js\"\n                ]\n            },\n            \"checkout\": {\n                \"files\": [\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Checkout.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.MyAccount.Extension.js\",\n                    \"Modules/Extension/JavaScript/Trevera.Layout.Shopping.Extension.js\",\n                    \"Modules/Header/JavaScript/Trevera.CategoryHelpers.js\",\n                    \"Modules/Header/JavaScript/Trevera.Layout.Header.js\",\n                    \"Modules/NamedAnchors/JavaScript/Trevera.NamedAnchors.Extension.js\"\n                ]\n            }\n        }\n    },\n    \"suitescript2\": {\n        \"files\": []\n    }\n}"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\CreateQuoteMenuItem.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"subtab\": {\r\n        \"id\": \"treveraQuotes\",\r\n        \"title\": \"Quotes\",\r\n        \"description\": \"Quote Settings\",\r\n        \"group\": \"trevera_global_group\"\r\n    },\r\n    \"properties\": {\r\n        \"trevera.quotes.showHeaderLink\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraQuotes\",\r\n            \"type\": \"boolean\",\r\n            \"title\": \"Show Header Link\",\r\n            \"description\": \"Show quote link in header\",\r\n            \"default\": true\r\n        }\r\n    ,   \"trevera.quotes.addLinkToMyAccountMenu\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraQuotes\",\r\n            \"type\": \"boolean\",\r\n            \"title\": \"Add to Quote Link My Account Menu\",\r\n            \"description\": \"Add to Quote Link My Account Menu\",\r\n            \"default\": false\r\n        }\r\n    }\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\CreditLock.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"subtab\": {\r\n        \"id\": \"treveraCreditLock\",\r\n        \"title\": \"Credit Lock\",\r\n        \"description\": \"Credit Lock Page\",\r\n        \"group\": \"trevera_global_group\"\r\n    },\r\n    \"properties\": {\r\n        \"trevera.creditLock.message\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraCreditLock\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Credit Lock Message\",\r\n            \"description\": \"edit Lock Message\"\r\n        }\r\n    }\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\Extension.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"group\": {\r\n        \"id\": \"trevera_global_group\",\r\n        \"title\": \"Hydrafacial Extensions\",\r\n        \"description\": \"Generic group for Hydrafacial Extensions\"\r\n    },\r\n    \"subtab\": {\r\n        \"id\": \"treveraFooter\",\r\n        \"title\": \"Footer\",\r\n        \"description\": \"Footer additiona Page\",\r\n        \"group\": \"trevera_global_group\"\r\n    },\r\n    \"properties\": { \r\n        \"trevera.footer.logoUrl\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraFooter\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Footer Image Link\",\r\n            \"description\": \"Footer Image Link\"\r\n        }\r\n    }\r\n}"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\Fix.CartConfiguration.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"modifications\": [\r\n        {\r\n            \"target\": \"$.properties[addToCartBehavior]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[addToCartFromFacetsView]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[promocodes.allowMultiples]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[matrixchilditems.enabled]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[matrixchilditems.fieldset]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[showTaxDetailsPerLine]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[summaryTaxLabel]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"group\": \"shoppingApplication\"\r\n            }\r\n        }\r\n    ]\r\n}"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\Fix.Home.Configuration.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"modifications\": [\r\n        {\r\n            \"target\": \"$.properties[home.bottomBannerImages]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"subtab\": \"home\"\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[home.carouselImages]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"subtab\": \"home\"\r\n            }\r\n        }\r\n    ]\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\Fix.MoveNavigation.Configuration.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"modifications\" : [\r\n        {\r\n            \"target\": \"$.properties[navigationData]\",\r\n            \"action\": \"add\",\r\n            \"value\": {\"subtab\": \"header\"}\r\n        }\r\n    ]\r\n}"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Configuration\\QuickOrderMenuItem.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"subtab\": {\r\n        \"id\": \"treveraQuickOrder\",\r\n        \"title\": \"Quick Order\",\r\n        \"description\": \"Quick Order Settings\",\r\n        \"group\": \"trevera_global_group\"\r\n    },\r\n    \"properties\": {\r\n        \"trevera.quickOrder.showHeaderLink\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraQuickOrder\",\r\n            \"type\": \"boolean\",\r\n            \"title\": \"Show Header Link\",\r\n            \"description\": \"Show Quick Order link in header\",\r\n            \"default\": true\r\n        }\r\n    }\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\JavaScript\\Trevera.Layout.Checkout.Extension.js","type":"application/javascript","contents":"/*\r\n © 2021 Trevera\r\n Loads layout modifications\r\n\r\n */\r\n\r\ndefine('Trevera.Layout.Checkout.Extension'\r\n  , [\r\n    'Trevera.Layout.Header'\r\n    , 'Trevera.NamedAnchors.Extension'\r\n    , 'underscore'\r\n    , 'jQuery'\r\n  ]\r\n  , function (\r\n    LayoutHeader\r\n    , TreveraNamedAnchorsExtension\r\n    , _\r\n    , jQuery\r\n  ) {\r\n    'use strict';\r\n\r\n    return {\r\n      mountToApp: function mountToApp(container) {\r\n        var ENVIRONMENT = container.getComponent('Environment')\r\n          , LAYOUT      = container.getComponent('Layout')\r\n          , PROFILE     = container.getComponent('UserProfile');\r\n\r\n        var profile_model;\r\n        PROFILE.getUserProfile().then(function (profile) {\r\n          profile_model = profile;\r\n        });\r\n\r\n        LayoutHeader.mountToApp(container);\r\n        TreveraNamedAnchorsExtension.mountToApp(container);\r\n\r\n        if (LAYOUT) {\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Footer.View'\r\n            , 'footerLogo'\r\n            , 'string'\r\n            , function footerLogo(context) {\r\n              return ENVIRONMENT.getConfig('trevera.footer.logoUrl');\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.MiniCart.View'\r\n            , 'canCheckout'\r\n            , 'boolean'\r\n            , function canCheckout(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var lockedField  = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if (lockedField) {\r\n                return !lockedField.value;\r\n              }\r\n              return true\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Cart.Summary.View'\r\n            , 'treveraExtras'\r\n            , 'object'\r\n            , function treveraExtras(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var isLocked     = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if (isLocked) {\r\n                return {\r\n                  creditLocked : isLocked.value,\r\n                  creditMessage: ENVIRONMENT.getConfig('trevera.creditLock.message')\r\n                }\r\n              }\r\n              return {\r\n                creditLocked : false,\r\n                creditMessage: ''\r\n              }\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'OrderWizard.Step'\r\n            , 'treveraExtras'\r\n            , 'object'\r\n            , function treveraExtras(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var isLocked     = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if (isLocked) {\r\n                return {\r\n                  creditLocked : isLocked.value,\r\n                  creditMessage: ENVIRONMENT.getConfig('trevera.creditLock.message')\r\n                }\r\n              }\r\n              return {\r\n                creditLocked : false,\r\n                creditMessage: ''\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\JavaScript\\Trevera.Layout.MyAccount.Extension.js","type":"application/javascript","contents":"/*\r\n © 2021 Trevera\r\n Loads layout modifications\r\n\r\n */\r\n\r\ndefine(\r\n  'Trevera.Layout.MyAccount.Extension'\r\n  , [\r\n     'Trevera.Layout.Header'\r\n    , 'Trevera.NamedAnchors.Extension'\r\n    , 'underscore'\r\n    , 'jQuery'\r\n  ]\r\n  , function (\r\n     LayoutHeader\r\n    , TreveraNamedAnchorsExtension\r\n    , _\r\n    , jQuery\r\n  ) {\r\n    'use strict';\r\n\r\n    return {\r\n      mountToApp: function mountToApp(container) {\r\n        var ENVIRONMENT = container.getComponent('Environment');\r\n        var PROFILE     = container.getComponent('UserProfile');\r\n        var LAYOUT = container.getComponent('Layout');\r\n\r\n        LayoutHeader.mountToApp(container);\r\n        TreveraNamedAnchorsExtension.mountToApp(container);\r\n\r\n        var profile_model;\r\n        PROFILE.getUserProfile().done(function (profile) {\r\n          profile_model = profile;\r\n          if (!profile_model.internalid) {\r\n            SC.PROFILE_PROMISE.done(function (data) {\r\n              {\r\n                profile_model = data;\r\n                console.log(data)\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        if (LAYOUT) {\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Footer.View'\r\n            , 'footerLogo'\r\n            , 'string'\r\n            , function footerLogo(context) {\r\n              return ENVIRONMENT.getConfig('trevera.footer.logoUrl');\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.MiniCart.View'\r\n            , 'canCheckout'\r\n            , 'boolean'\r\n            , function canCheckout(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var lockedField = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if(lockedField) {\r\n                return !lockedField.value;\r\n              }\r\n              return true\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Cart.Summary.View'\r\n            , 'treveraExtras'\r\n            , 'object'\r\n            , function treveraExtras(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var isLocked     = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if (isLocked) {\r\n                return {\r\n                  creditLocked : isLocked.value,\r\n                  creditMessage: ENVIRONMENT.getConfig('trevera.creditLock.message')\r\n                }\r\n              }\r\n              return {\r\n                creditLocked : false,\r\n                creditMessage: ''\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\JavaScript\\Trevera.Layout.Shopping.Extension.js","type":"application/javascript","contents":"/*\r\n © 2021 Trevera\r\n Loads layout modifications\r\n\r\n */\r\n\r\ndefine(\r\n\t'Trevera.Layout.Shopping.Extension'\r\n\t, [\r\n\t\t'Trevera.Layout.Header'\r\n\t\t, 'Trevera.NamedAnchors.Extension'\r\n\t\t, 'underscore'\r\n\t\t, 'jQuery'\r\n\t]\r\n\t, function (\r\n\t\tLayoutHeader\r\n\t\t, TreveraNamedAnchorsExtension\r\n\t\t, _\r\n\t\t, jQuery\r\n\t) {\r\n\t\t'use strict';\r\n\r\n\r\n\t\treturn {\r\n\t\t\tmountToApp: function mountToApp(container) {\r\n\t\t\t\tvar ENVIRONMENT = container.getComponent('Environment')\r\n\t\t\t\t\t, LAYOUT      = container.getComponent('Layout')\r\n\t\t\t\t\t, PROFILE     = container.getComponent('UserProfile');\r\n\t\t\t\tvar PDP         = container.getComponent('PDP');\r\n        var profile_model = {};\r\n        PROFILE.getUserProfile().then(function (profile) {\r\n          profile_model = profile;\r\n        })\r\n\r\n\t\t\t\tLayoutHeader.mountToApp(container);\r\n\r\n\t\t\t\tTreveraNamedAnchorsExtension.mountToApp(container);\r\n\r\n\t\t\t\tif (LAYOUT) {\r\n\t\t\t\t\tLAYOUT.addToViewContextDefinition(\r\n\t\t\t\t\t\t'Footer.View'\r\n\t\t\t\t\t\t, 'footerLogo'\r\n\t\t\t\t\t\t, 'string'\r\n\t\t\t\t\t\t, function footerLogo(context) {\r\n\t\t\t\t\t\t\treturn ENVIRONMENT.getConfig('trevera.footer.logoUrl');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tLAYOUT.addToViewContextDefinition(\r\n\t\t\t\t\t\t'Cart.QuickAddToCart.View'\r\n\t\t\t\t\t\t, 'showQuickAddToCartButton'\r\n\t\t\t\t\t\t, 'boolean'\r\n\t\t\t\t\t\t, function showQuickAddToCartButton(context) {\r\n\t\t\t\t\t\t\treturn context.showQuickAddToCartButton && profile_model.isloggedin;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tLAYOUT.addToViewContextDefinition(\r\n\t\t\t\t\t\t'Header.MiniCart.View'\r\n\t\t\t\t\t\t, 'canCheckout'\r\n\t\t\t\t\t\t, 'boolean'\r\n\t\t\t\t\t\t, function canCheckout(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var lockedField = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if(lockedField) {\r\n                return !lockedField.value;\r\n              }\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Cart.Summary.View'\r\n            , 'treveraExtras'\r\n            , 'object'\r\n            , function treveraExtras(context) {\r\n              var customFields = profile_model && profile_model.customfields;\r\n              var isLocked     = _.find(customFields, {id: 'custentity_hf_customer_credit_locked'});\r\n              if (isLocked) {\r\n                return {\r\n                  creditLocked : isLocked.value,\r\n                  creditMessage: ENVIRONMENT.getConfig('trevera.creditLock.message')\r\n                }\r\n              }\r\n              return {\r\n                creditLocked : false,\r\n                creditMessage: ''\r\n              }\r\n            }\r\n          );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// fix this since the default causes the content to be rendered outside the default wrapper a tag\r\n\t\t\t\t_.extend(ENVIRONMENT.getConfig('bxSliderDefaults', {}), {\r\n\t\t\t\t\tnextText          : '<span class=\"item-relations-related-carousel-next\"><span class=\"control-text\">' + _('next').translate() +\r\n\t\t\t\t\t\t'</span><i class=\"carousel-next-arrow\"></i></span>',\r\n\t\t\t\t\tprevText          : '<span class=\"item-relations-related-carousel-prev\"><i class=\"carousel-prev-arrow\"></i> <span class=\"control-text\">' + _('prev').translate() +\r\n\t\t\t\t\t\t'</span></span>'\r\n\t\t\t\t\t, slideMargin     : 10\r\n\t\t\t\t\t, hideControlOnEnd: true\r\n\t\t\t\t\t, responsive      : true\r\n\t\t\t\t\t, infiniteLoop    : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Extension\\Sass\\_layout-extension.scss","type":"text/x-scss","contents":"/*\r\n\tSass Application Entry Point\r\n\tLink all your sass dependencies in the right order\r\n\r\n\tExample:\r\n\t@import \"other-sass-file.scss\";\r\n\t@import \"../../<other module>/Sass/other-sass-file.scss\";\r\n*/ \r\n\r\n.extension-info-card {\r\n    @extend .info-card;\r\n}\r\n\r\n.extension-info-card-content {\r\n    @extend .info-card-content;\r\n    color: $sc-color-secondary;\r\n    font-weight: bold;\r\n}"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Configuration\\Header.Custom.json","type":"application/json","contents":"{\r\n    \"type\": \"object\",\r\n    \"subtab\": {\r\n        \"id\": \"treveraHeader\",\r\n        \"title\": \"Header\",\r\n        \"description\": \"Header additionas Page\",\r\n        \"group\": \"trevera_global_group\"\r\n    },\r\n    \"properties\": {\r\n        \"trevera.header.customServiceNumber\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Customer Service Phone\",\r\n            \"description\": \"customServiceNumber\"\r\n        },\r\n        \"trevera.header.logoTagline\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Logo Tagline\",\r\n            \"description\": \"logo tagline\"\r\n        },\r\n        \"trevera.header.showSocialMediaLinks\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"boolean\",\r\n            \"title\": \"Show Social in Header\",\r\n            \"description\": \"show links in header\"\r\n        },\r\n        \"trevera.header.showSearchControl\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"boolean\",\r\n            \"title\": \"Show Search Control\",\r\n            \"description\": \"dont hide search\"\r\n        },\r\n        \"trevera.header.excludeCategoriesFromNavigation\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Excluded Categories\",\r\n            \"description\": \"Comma separated list of IDs of Categories to exclude\"\r\n        },\r\n        \"trevera.header.parentCategoryOverride\": {\r\n            \"group\": \"trevera_global_group\",\r\n            \"subtab\": \"treveraHeader\",\r\n            \"type\": \"string\",\r\n            \"title\": \"Parent Category Override\",\r\n            \"description\": \"Parent Category Override\"\r\n        }\r\n    },\r\n    \"modifications\": [\r\n        {\r\n            \"target\": \"$.properties[navigationData].items.properties\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"categoryIDForSubMenu\": {\r\n                    \"type\": \"string\",\r\n                    \"title\": \"Sub Menu Category ID\",\r\n                    \"description\": \"Enter a commerce category ID to use that as the submenu\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[navigationData].items.properties\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"textOverride\": {\r\n                    \"type\": \"string\",\r\n                    \"title\": \"Text\",\r\n                    \"description\": \"Base implementation overrides any navigation data with a placeholder attribute set so we set it in two places\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"target\": \"$.properties[navigationData].items.properties\",\r\n            \"action\": \"add\",\r\n            \"value\": {\r\n                \"subMenuDeepness\": {\r\n                    \"type\": \"string\",\r\n                    \"title\": \"Sub Menu Deepness\",\r\n                    \"description\": \"how many sub categories to show\"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\JavaScript\\Trevera.CategoryHelpers.js","type":"application/javascript","contents":"/*\r\n © 2021 Trevera\r\n\r\n Category Helpers.\r\n Add modifications for catgegories here\r\n\r\n */\r\n\r\ndefine(\r\n\t'Trevera.CategoryHelpers'\r\n\t, [\r\n\t\t'Backbone'\r\n\t\t, 'underscore'\r\n\t]\r\n\t, function (\r\n\t\tBackbone\r\n\t\t, _\r\n\t) {\r\n\t\t'use strict';\r\n\r\n\t\tfunction getAdditionalFields(ENVIRONMENT, source, config_path) {\r\n\t\t\tconst additionalFields = {};\r\n\t\t\tconst fields           = ENVIRONMENT.getConfig(config_path, []);\r\n\r\n\t\t\t_.each(fields, function (field) {\r\n\t\t\t\tadditionalFields[field] = source[field];\r\n\t\t\t});\r\n\r\n\t\t\treturn additionalFields;\r\n\t\t}\r\n\r\n\t\t//TODO document what these do\r\n\t\treturn {\r\n\r\n\t\t\tcalculateCategoriesToShow: function calculateCategoriesToShow(container, excludedCategories) {\r\n\t\t\t\tvar PLP         = container.getComponent('PLP')\r\n\t\t\t\t\t, ENVIRONMENT = container.getComponent('Environment');\r\n\r\n\t\t\t\tvar thisCategory = PLP.getCategoryInfo()\r\n\t\t\t\t\t, level        = _.compact(thisCategory.idpath.split(\"|\")).length;\r\n\r\n\t\t\t\tvar children = ((level === 3) ? thisCategory && thisCategory.siblings : thisCategory && thisCategory.categories) || [];\r\n\r\n\t\t\t\tif (excludedCategories && excludedCategories.length > 0) {\r\n\t\t\t\t\tchildren = _.filter(children, function (category) {\r\n\t\t\t\t\t\treturn excludedCategories.indexOf(category.internalid) < 0;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar values = [];\r\n\r\n\t\t\t\tif (level === 3) {\r\n\t\t\t\t\t// push the current category.\r\n\t\t\t\t\t// this fixes a bug where the current category would never appear because it's never added to the values\r\n\t\t\t\t\tvalues.push({\r\n\t\t\t\t\t\tdisplayName     : thisCategory.name,\r\n\t\t\t\t\t\tlabel           : thisCategory.name,\r\n\t\t\t\t\t\tlink            : thisCategory.fullurl,\r\n\t\t\t\t\t\tisActive        : thisCategory.fullurl === (Backbone.history.fragment.indexOf('/') === 0 ? Backbone.history.fragment : \"/\" + Backbone.history.fragment),\r\n\t\t\t\t\t\tadditionalFields: getAdditionalFields(\r\n\t\t\t\t\t\t\tENVIRONMENT,\r\n\t\t\t\t\t\t\tthisCategory,\r\n\t\t\t\t\t\t\t'categories.sideMenu.additionalFields'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t, sequencenumber: thisCategory.sequencenumber\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_.each(children, function (category) {\r\n\t\t\t\t\tvalues.push({\r\n\t\t\t\t\t\tdisplayName     : category.name,\r\n\t\t\t\t\t\tlabel           : category.name,\r\n\t\t\t\t\t\tlink            : category.fullurl,\r\n\t\t\t\t\t\tisActive        : category.fullurl === (Backbone.history.fragment.indexOf('/') === 0 ? Backbone.history.fragment : \"/\" + Backbone.history.fragment),\r\n\t\t\t\t\t\tadditionalFields: getAdditionalFields(\r\n\t\t\t\t\t\t\tENVIRONMENT,\r\n\t\t\t\t\t\t\tcategory,\r\n\t\t\t\t\t\t\t'categories.sideMenu.additionalFields'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t, sequencenumber: category.sequencenumber\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\t// add sorting by sequence number\r\n\t\t\t\treturn _.sortBy(values, function (val) {\r\n\t\t\t\t\treturn parseInt(val.sequencenumber);\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t, getExcludedCategories: function getExcludedCategories(ENVIRONMENT) {\r\n\t\t\t\tvar excludedCategories = ENVIRONMENT.getConfig('trevera.header.excludeCategoriesFromNavigation') || \"\";\r\n\r\n\t\t\t\tif (excludedCategories && excludedCategories.length > 0) {\r\n\t\t\t\t\texcludedCategories = _.without(excludedCategories.split(\",\"), \"\", \" \");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn excludedCategories;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t, getCustomTemplateMapping: function getCustomTemplateMapping(ENVIRONMENT, categoryInfo) {\r\n\t\t\t\t// check for internalid first\r\n\t\t\t\tvar customTemplates = ENVIRONMENT.getConfig('trevera.categories.customTemplates', {})\r\n\t\t\t\t\t, template        = _.find(customTemplates, function (template) {\r\n\t\t\t\t\treturn template.categoryInternalID.toString() === categoryInfo.internalid\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!template) {\r\n\t\t\t\t\tvar idsToCheck = _.compact(categoryInfo.idpath.split(\"|\")) || [];\r\n\r\n\t\t\t\t\t_.each(idsToCheck, function (id) {\r\n\t\t\t\t\t\tvar parentTemplate = _.find(customTemplates, function (template) {\r\n\t\t\t\t\t\t\treturn template.categoryInternalID.toString() === id\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (parentTemplate && parentTemplate.childrenInherit) {\r\n\t\t\t\t\t\t\ttemplate = parentTemplate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn template;\r\n\t\t\t}\r\n\r\n\t\t\t// copied from Categories Module\r\n\t\t\t, makeNavigationTab: function (ENVIRONMENT, categories, excludedCategories, level, deepness) {\r\n\t\t\t\tvar result     = [];\r\n\t\t\t\tvar self       = this;\r\n\t\t\t\tvar currentURL = Backbone.history.fragment;\r\n\r\n\t\t\t\tcategories = _.sortBy(categories, function (cat) {\r\n\t\t\t\t\treturn cat.additionalFields && parseInt(cat.additionalFields.sequencenumber) || 1000\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_.each(categories, function (category) {\r\n\t\t\t\t\tvar href = category.fullurl;\r\n\t\t\t\t\tvar tab  = {\r\n\t\t\t\t\t\thref       : href,\r\n\t\t\t\t\t\t// use page heading if available - name is internal name\r\n\t\t\t\t\t\ttext       : category.pageheading || category.name,\r\n\t\t\t\t\t\tdata       : {\r\n\t\t\t\t\t\t\thashtag   : '#' + href,\r\n\t\t\t\t\t\t\ttouchpoint: 'home'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclass      : 'header-menu-level' + (level) + '-anchor' + (currentURL === category.href ? \" active\" : \"\"),\r\n\t\t\t\t\t\t'data-type': 'commercecategory'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\ttab.additionalFields = getAdditionalFields(\r\n\t\t\t\t\t\tENVIRONMENT,\r\n\t\t\t\t\t\tcategory,\r\n\t\t\t\t\t\t'categories.menu.fields'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tcategory.categories = _.sortBy(category.categories, function (cat) {\r\n\t\t\t\t\t\treturn cat.additionalFields && parseInt(cat.additionalFields.sequencenumber) || 1000\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (category.categories) {\r\n\r\n\t\t\t\t\t\tif (level + 1 <= deepness) {\r\n\t\t\t\t\t\t\ttab.categories = self.makeNavigationTab(ENVIRONMENT, category.categories, excludedCategories, level + 1, deepness);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!!excludedCategories && excludedCategories.indexOf(category.internalid) < 0) {\r\n\r\n\t\t\t\t\t\tresult.push(tab);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\tresult.push(tab);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\t// Adds support to use categories for sub menus\r\n\t\t\t, makeSubMenuFromCategoryID: function makeSubMenuFromCategoryID(ENVIRONMENT, navigationData, excludedCategories, profile) {\r\n\r\n\t\t\t\tvar self   = this\r\n\t\t\t\t\t, result = [];\r\n\r\n\t\t\t\t_.each(navigationData, function (category) {\r\n\r\n\t\t\t\t\tvar tab = _.extend(category, {});\r\n\r\n\t\t\t\t\ttab.text = tab.textOverride && tab.textOverride.length > 0 ? tab.textOverride : tab.text;\r\n\r\n\t\t\t\t\tif (category.categoryIDForSubMenu && category.placeholder === \"Categories Sub Menu\") {\r\n\r\n\t\t\t\t\t\tvar menuCategories = self.getCategoryByID(category.categoryIDForSubMenu, SC.CATEGORIES);\r\n\r\n\t\t\t\t\t\tvar level = parseInt(tab.level);\r\n\r\n\t\t\t\t\t\tif (!!menuCategories) {\r\n\t\t\t\t\t\t\tvar deepness   = parseInt(category.subMenuDeepness) || parseInt(ENVIRONMENT.getConfig('categories.menuLevel'));\r\n\t\t\t\t\t\t\ttab.categories = self.makeNavigationTab(ENVIRONMENT, menuCategories.categories, excludedCategories, level + 1, deepness);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t// loop through children\r\n\t\t\t\t\t\ttab.categories = self.makeSubMenuFromCategoryID(ENVIRONMENT, category.categories, excludedCategories, profile)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresult.push(tab);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\r\n\t\t\t, getParentCategoryNavigation: function (ENVIRONMENT, navigation, excludedCategories, profile) {\r\n\r\n\t\t\t\tvar parent = this.getParentCategoryFromOverride(ENVIRONMENT);\r\n\r\n\t\t\t\tif (parent && parent.length === 1) {\r\n\t\t\t\t\t// remap the categories into the navigation menu\r\n\t\t\t\t\tvar deepness = parseInt(ENVIRONMENT.getConfig('categories.menuLevel'));\r\n\t\t\t\t\tvar result   = this.makeNavigationTab(ENVIRONMENT, parent[0].categories, excludedCategories, 1, deepness);\r\n\r\n\t\t\t\t\tvar nonCategoryNavigation = _.filter(navigation, function (nav) {\r\n\t\t\t\t\t\treturn !nav.additionalFields;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn nonCategoryNavigation.concat(result);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t, getParentCategoryFromOverride: function (ENVIRONMENT) {\r\n\t\t\t\tvar parentCategoryOverride = ENVIRONMENT.getConfig('trevera.header.parentCategoryOverride') || \"265\";\r\n\r\n\t\t\t\tif (!!parentCategoryOverride) {\r\n\r\n\t\t\t\t\treturn this.getCategoryByID(parentCategoryOverride, SC.CATEGORIES);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\r\n\t\t\t, getCategoryByID: function (id, categories) {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar ids  = _.pluck(categories, 'internalid');\r\n\r\n\t\t\t\tvar returnObj;\r\n\r\n\t\t\t\tif (ids.indexOf(id) > -1) {\r\n\t\t\t\t\treturnObj = _.find(categories, {'internalid': id});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t_.find(categories, function (category) {\r\n\t\t\t\t\t\tif (category.categories && category.categories.length) {\r\n\t\t\t\t\t\t\tvar test = self.getCategoryByID(id, category.categories);\r\n\r\n\t\t\t\t\t\t\tif (!!test) {\r\n\t\t\t\t\t\t\t\treturnObj = test;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn returnObj;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\JavaScript\\Trevera.Layout.Header.js","type":"application/javascript","contents":"/*\r\n © 2021 Trevera\r\n Method to show search isn't implemented - adds so search works.\r\n */\r\n\r\n\r\ndefine(\r\n  'Trevera.Layout.Header'\r\n  , [\r\n    'Trevera.CategoryHelpers'\r\n    , 'underscore'\r\n    , 'Utils'\r\n  ]\r\n  , function (\r\n    TreveraCategoryHelpers\r\n    , _\r\n    , Utils\r\n  ) {\r\n    'use strict';\r\n\r\n\r\n    return {\r\n      mountToApp: function mountToApp(container) {\r\n        var LAYOUT      = container.getComponent('Layout')\r\n          , ENVIRONMENT = container.getComponent('Environment')\r\n          , PLP         = container.getComponent('PLP')\r\n          , PROFILE     = container.getComponent('UserProfile');\r\n\r\n        var excludedCategories = TreveraCategoryHelpers.getExcludedCategories(ENVIRONMENT);\r\n        var profile_model;\r\n\r\n        PROFILE.getUserProfile().done(function (profile) {\r\n          profile_model = profile;\r\n          if (!profile_model.internalid) {\r\n            SC.PROFILE_PROMISE.done(function (data) {\r\n              {\r\n                profile_model = data;\r\n                console.log(data)\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        if (LAYOUT) {\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'showQuoteHeader'\r\n            , 'boolean'\r\n            , function showQuoteHeader(context) {\r\n              return ENVIRONMENT.getConfig('trevera.quotes.showHeaderLink');\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'showQuickOrderHeader'\r\n            , 'boolean'\r\n            , function showQuoteHeader(context) {\r\n              return ENVIRONMENT.getConfig('trevera.quickOrder.showHeaderLink');\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'showSocialMediaLinks'\r\n            , 'boolean'\r\n            , function showSocialMediaLinks(context) {\r\n              return ENVIRONMENT.getConfig('trevera.header.showSocialMediaLinks');\r\n            }\r\n          );\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'socialMediaLinks'\r\n            , 'array'\r\n            , function socialMediaLinks(context) {\r\n              console.log('showHeaderLink', ENVIRONMENT.getConfig('footer.socialMediaLinks'))\r\n              return ENVIRONMENT.getConfig('footer.socialMediaLinks')\r\n            });\r\n\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'showSearchControl'\r\n            , 'boolean'\r\n            , function showSearchControl(context) {\r\n              return true;\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'isMobile'\r\n            , 'boolean'\r\n            , function isMobile(context) {\r\n              return Utils.getViewportWidth() <= 992\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.View'\r\n            , 'isLoggedIn'\r\n            , 'boolean'\r\n            , function isLoggedIn(context) {\r\n              return profile_model.isloggedin;\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.Menu.View'\r\n            , 'showSearchControl'\r\n            , 'boolean'\r\n            , function showSearchControl(context) {\r\n              if (profile_model.isloggedin) return ENVIRONMENT.getConfig('trevera.header.showSearchControl');\r\n              return false;\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.Menu.View'\r\n            , 'isMobile'\r\n            , 'boolean'\r\n            , function isMobile(context) {\r\n              return Utils.getViewportWidth() <= 992\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.Menu.View'\r\n            , 'isLoggedIn'\r\n            , 'boolean'\r\n            , function isLoggedIn(context) {\r\n              return profile_model.isloggedin;\r\n            });\r\n          LAYOUT.addToViewContextDefinition(\r\n            'Header.Menu.View'\r\n            , 'categories'\r\n            , 'array'\r\n            , function categories(context) {\r\n              var navigationData                 = context.categories\r\n                , hasCommerceCategoryPlaceholder = _.size(_.filter(context.categories, function (cat) {\r\n                return cat.placeholder && cat.placeholder === \"Categories\";\r\n              })) > 0;\r\n\r\n              if (hasCommerceCategoryPlaceholder) {\r\n                navigationData = TreveraCategoryHelpers.getParentCategoryNavigation(ENVIRONMENT, context.categories, excludedCategories, profile_model) || context.categories;\r\n              }\r\n\r\n              navigationData = TreveraCategoryHelpers.makeSubMenuFromCategoryID(ENVIRONMENT, navigationData, excludedCategories, profile_model);\r\n\r\n              return navigationData;\r\n            });\r\n\r\n          LAYOUT.addToViewContextDefinition(\r\n            'SiteSearch.View'\r\n            , 'showSearchControl'\r\n            , 'boolean'\r\n            , function showSearchControl(context) {\r\n              return true;\r\n            });\r\n        }\r\n      }\r\n    };\r\n  });\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Sass\\_header-custom.scss","type":"text/x-scss","contents":".header-social-links {\r\n    display: flex;\r\n    order: 1;\r\n\r\n    a {\r\n        height: 30px;\r\n        width: 30px;\r\n\r\n        &::after {\r\n            height: 30px;\r\n            width: 30px;\r\n            background: $sc-color-theme-300;\r\n        }\r\n\r\n        i.fa, i.fab {\r\n            font-size: 1.2rem;\r\n            line-height: 30px !important;\r\n        }\r\n    }\r\n\r\n\r\n    @media(min-width: $screen-sm-min) {\r\n        margin-top: (($sc-main-nav-height) - ($sc-main-nav-link-height)) / 2;\r\n        margin-bottom: (($sc-main-nav-height) - ($sc-main-nav-link-height)) / 2;\r\n        flex-grow: 1;\r\n    }\r\n}\r\n\r\n.header-main-nav {\r\n    .header-social-links {\r\n        @media(max-width: $screen-sm-max) {\r\n            order: 2;\r\n            //flex-grow: 3;\r\n            display: none;\r\n        }\r\n    }\r\n}\r\n\r\n.header-secondary-wrapper-site-search-persistent {\r\n\r\n}\r\n\r\n.active.site-search-persistent {\r\n    @media screen and (min-width: $screen-md-min) {\r\n        display: block !important;\r\n    }\r\n}\r\n\r\n.header-site-search-persistent {\r\n}\r\n\r\n.header-menu-secondary-nav {\r\n    position: relative;\r\n}\r\n\r\n.header-menu-level1 {\r\n    .search-control {\r\n        @media screen and (min-width: $screen-md-min) {\r\n            float: right;\r\n            position: absolute;\r\n            right: 0;\r\n        }\r\n\r\n        //overflow: hidden;\r\n\r\n\r\n        .site-search-persistent {\r\n            .site-search-input-reset {\r\n                display: none;\r\n                visibility: hidden;\r\n            }\r\n\r\n            padding: 0;\r\n            @media screen and (min-width: $screen-md-min) {\r\n\r\n                input.itemssearcher-input {\r\n                    width: calc(100% - 40px);\r\n                    padding-left: $sc-padding-lv1;\r\n                }\r\n                .site-search-content {\r\n                    width: 300px\r\n                }\r\n            }\r\n\r\n            .site-search-button-submit {\r\n                padding: $sc-padding-lv2;\r\n                border-radius: 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Sass\\_layout-header.scss","type":"text/x-scss","contents":"/*\r\n\tSass Application Entry Point\r\n\tLink all your sass dependencies in order\r\n*/ \r\n\r\n@import \"header-custom\";\r\n@import \"my-account-menu\";"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Sass\\_my-account-menu.scss","type":"text/x-scss","contents":""},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Templates\\sc_header_menu.tpl","type":"application/vnd.groove-tool-template","contents":"<nav class=\"header-menu-secondary-nav\">\r\n\r\n    {{#unless showSearchControl}}\r\n        <div class=\"header-menu-search\" data-view=\"SiteSearch.Button\"></div>\r\n    {{/unless}}\r\n\r\n    <ul class=\"header-menu-level1 header-menu-level1-hover\">\r\n\r\n        {{#each categories}}\r\n            {{#if text}}\r\n                <li class=\"{{liClass}}\" {{#if categories}}data-toggle=\"categories-menu\"{{/if}}>\r\n                    <a class=\"{{class}}\" {{objectToAtrributes this}}>\r\n                        {{translate text}}\r\n                    </a>\r\n                    {{#if categories}}\r\n                        <ul class=\"header-menu-level-container\">\r\n                            <li>\r\n                                {{#if inTwoColumns}}\r\n                                    <div class=\"header-menu-level2\">\r\n                                        <ul class=\"header-menu-level2-half\">\r\n                                            {{#each leftColumn}}\r\n                                                <li>\r\n                                                    <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n\r\n                                                    {{#if categories}}\r\n                                                        <ul class=\"header-menu-level3\">\r\n                                                            {{#each categories}}\r\n                                                                <li>\r\n                                                                    <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n                                                                </li>\r\n                                                            {{/each}}\r\n                                                        </ul>\r\n                                                    {{/if}}\r\n                                                </li>\r\n                                            {{/each}}\r\n                                        </ul>\r\n                                        <ul class=\"header-menu-level2-half\">\r\n                                            {{#each rightColumn}}\r\n                                                <li>\r\n                                                    <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n\r\n                                                    {{#if categories}}\r\n                                                        <ul class=\"header-menu-level3\">\r\n                                                            {{#each categories}}\r\n                                                                <li>\r\n                                                                    <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n                                                                </li>\r\n                                                            {{/each}}\r\n                                                        </ul>\r\n                                                    {{/if}}\r\n                                                </li>\r\n                                            {{/each}}\r\n                                        </ul>\r\n                                    </div>\r\n                                {{else}}\r\n                                    <ul class=\"header-menu-level2\">\r\n                                        {{#each categories}}\r\n                                            <li>\r\n                                                <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n\r\n                                                {{#if categories}}\r\n                                                    <ul class=\"header-menu-level3\">\r\n                                                        {{#each categories}}\r\n                                                            <li>\r\n                                                                <a class=\"{{class}}\" {{objectToAtrributes this}}>{{translate text}}</a>\r\n                                                            </li>\r\n                                                        {{/each}}\r\n                                                    </ul>\r\n                                                {{/if}}\r\n                                            </li>\r\n                                        {{/each}}\r\n                                    </ul>\r\n\r\n                                {{/if}}\r\n                            </li>\r\n                        </ul>\r\n                    {{/if}}\r\n                </li>\r\n            {{/if}}\r\n        {{/each}}\r\n\r\n        {{#if showSearchControl}}\r\n            <li class=\"search-control\">\r\n                <div class=\"header-site-search\" data-view=\"SiteSearch\" data-type=\"SiteSearch\"></div>\r\n            </li>\r\n        {{/if}}\r\n\r\n    </ul>\r\n\r\n</nav>"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Templates\\sc_header.tpl","type":"application/vnd.groove-tool-template","contents":"<div id=\"banner-header-top\" class=\"content-banner banner-header-top\" data-cms-area=\"header_banner_top\" data-cms-area-filters=\"global\"></div>\r\n\r\n<div class=\"header-message\" data-view=\"Message.Placeholder\"></div>\r\n\r\n<div class=\"header-main-wrapper\">\r\n    {{#if showSubheader}}\r\n        <div class=\"header-subheader\">\r\n            <div class=\"header-subheader-container\">\r\n                <ul class=\"header-subheader-options\">\r\n                    {{#if showLanguagesOrCurrencies}}\r\n                        <li class=\"header-subheader-settings\">\r\n                            <a href=\"#\" class=\"header-subheader-settings-link\" data-toggle=\"dropdown\" title=\"{{translate 'Settings'}}\">\r\n                                <i class=\"header-menu-settings-icon\"></i>\r\n                                <i class=\"header-menu-settings-carret\"></i>\r\n                            </a>\r\n                            <div class=\"header-menu-settings-dropdown\">\r\n                                <h5 class=\"header-menu-settings-dropdown-title\">{{translate 'Site Settings'}}</h5>\r\n                                {{#if showLanguages}}\r\n                                    <div data-view=\"Global.HostSelector\"></div>\r\n                                {{/if}}\r\n                                {{#if showCurrencies}}\r\n                                    <div data-view=\"Global.CurrencySelector\"></div>\r\n                                {{/if}}\r\n                            </div>\r\n                        </li>\r\n                    {{/if}}\r\n                    <li data-view=\"StoreLocatorHeaderLink\"></li>\r\n                    {{#if showQuoteHeader}}\r\n                        <li data-view=\"RequestQuoteWizardHeaderLink\"></li>\r\n                    {{/if}}\r\n                    <li data-view=\"QuickOrderHeaderLink\"></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    {{/if}}\r\n    <nav class=\"header-main-nav\">\r\n        <div class=\"header-content\">\r\n            <div class=\"header-sidebar-toggle-wrapper\">\r\n                <button class=\"header-sidebar-toggle\" data-action=\"header-sidebar-show\">\r\n                    <i class=\"header-sidebar-toggle-icon\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            {{!-- <div class=\"header-logo-wrapper\">\r\n\t\t\t\t<div data-view=\"Header.Logo\" class=\"header-logo-logo-wrapper\"></div>\r\n\t\t\t\t{{#if logoTagline}}\r\n\t\t\t\t\t<div class=\"header-logo-tagline\">\r\n\t\t\t\t\t\t{{{logoTagline}}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{{/if}}\r\n\t\t\t</div>--}}\r\n            <div class=\"header-right-menu\">\r\n                <div class=\"header-menu-profile\" data-view=\"Header.Profile\"></div>\r\n                <div class=\"header-menu-locator-mobile\" data-view=\"StoreLocatorHeaderLink\"></div>\r\n                <div class=\"header-menu-searchmobile\" data-view=\"SiteSearch.Button\"></div>\r\n                <div class=\"header-menu-cart\">\r\n                    <div class=\"header-menu-cart-dropdown\">\r\n                        <div data-view=\"Header.MiniCart\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {{#if customServiceNumber}}\r\n                <div class=\"header-customer-service-phone hidden-tablet hidden-phone\">\r\n                    <a href=\"tel:{{customServiceNumber}}\" target=\"_blank\" class=\"header-customer-service-phone-link\">\r\n                        <i class=\"header-menu-phone-icon\"></i>\r\n                        {{customServiceNumber}}\r\n                    </a>\r\n                </div>\r\n            {{/if}}\r\n\r\n            <div data-view=\"Header.Social\" class=\"header-social-links\"></div>\r\n        </div>\r\n\r\n        <!--<div id=\"banner-header-bottom\" class=\"content-banner banner-header-bottom\" data-cms-area=\"header_banner_bottom\" data-cms-area-filters=\"global\"></div>-->\r\n    </nav>\r\n</div>\r\n\r\n<div class=\"header-sidebar-overlay\" data-action=\"header-sidebar-hide\"></div>\r\n<div class=\"header-secondary-wrapper {{#if distributeColumns}}header-menu-distributed-evenly{{/if}} {{#if showSearchControl}}header-secondary-wrapper-site-search-persistent{{/if}}\"\r\n\t data-view=\"Header.Menu\" data-phone-template=\"header_sidebar\"\r\n     data-tablet-template=\"header_sidebar\">\r\n</div>\r\n\r\n{{#unless showSearchControl}}\r\n    <div class=\"header-site-search\" data-view=\"SiteSearch\" data-type=\"SiteSearch\"></div>\r\n{{/unless}}\r\n\r\n\r\n<div id=\"banner-header-bottom\" class=\"content-banner banner-header-bottom\" data-cms-area=\"header_banner_bottom\" data-cms-area-filters=\"global\"></div>\r\n\r\n\r\n\r\n{{!----\r\nUse the following context variables when customizing this template:\r\n\r\n\tprofileModel (Object)\r\n\tprofileModel.addresses (Array)\r\n\tprofileModel.addresses.0 (Array)\r\n\tprofileModel.creditcards (Array)\r\n\tprofileModel.firstname (String)\r\n\tprofileModel.paymentterms (undefined)\r\n\tprofileModel.phoneinfo (undefined)\r\n\tprofileModel.middlename (String)\r\n\tprofileModel.vatregistration (undefined)\r\n\tprofileModel.creditholdoverride (undefined)\r\n\tprofileModel.lastname (String)\r\n\tprofileModel.internalid (String)\r\n\tprofileModel.addressbook (undefined)\r\n\tprofileModel.campaignsubscriptions (Array)\r\n\tprofileModel.isperson (undefined)\r\n\tprofileModel.balance (undefined)\r\n\tprofileModel.companyname (undefined)\r\n\tprofileModel.name (undefined)\r\n\tprofileModel.emailsubscribe (String)\r\n\tprofileModel.creditlimit (undefined)\r\n\tprofileModel.email (String)\r\n\tprofileModel.isLoggedIn (String)\r\n\tprofileModel.isRecognized (String)\r\n\tprofileModel.isGuest (String)\r\n\tprofileModel.priceLevel (String)\r\n\tprofileModel.subsidiary (String)\r\n\tprofileModel.language (String)\r\n\tprofileModel.currency (Object)\r\n\tprofileModel.currency.internalid (String)\r\n\tprofileModel.currency.symbol (String)\r\n\tprofileModel.currency.currencyname (String)\r\n\tprofileModel.currency.code (String)\r\n\tprofileModel.currency.precision (Number)\r\n\tshowLanguages (Boolean)\r\n\tshowCurrencies (Boolean)\r\n\tshowLanguagesOrCurrencies (Boolean)\r\n\tshowLanguagesAndCurrencies (Boolean)\r\n\tisHomeTouchpoint (Boolean)\r\n\tcartTouchPoint (String)\r\n\r\n----}}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\Header\\Templates\\sc_site_search.tpl","type":"application/vnd.groove-tool-template","contents":"<div class=\"site-search {{#if showSearchControl}}active site-search-persistent{{/if}}\" data-type=\"site-search\">\r\n    <div class=\"site-search-content\">\r\n        <form class=\"site-search-content-form\" method=\"GET\" action=\"/search\" data-action=\"search\">\r\n            <div class=\"site-search-content-input\">\r\n                <div data-view=\"ItemsSeacher\"></div>\r\n                {{#unless showSearchControl}}\r\n                    <a class=\"site-search-input-reset\" data-type=\"search-reset\"><i class=\"site-search-input-reset-icon\"></i></a>\r\n                {{/unless}}\r\n            </div>\r\n            <button class=\"site-search-button-submit\" type=\"submit\" title=\"go\"><i class=\"site-search-input-icon\"></i></button>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n{{!----\r\nThe context variables for this template are not currently documented. Use the {{log this}} helper to view the context variables in the Console of your browser's developer tools.\r\n\r\n----}}\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\NamedAnchors\\JavaScript\\Trevera.NamedAnchors.Extension.js","type":"application/javascript","contents":"define(\r\n    'Trevera.NamedAnchors.Extension'\r\n    , [\r\n        'underscore'\r\n    ,   'jQuery'\r\n    ]\r\n    , function (\r\n        _\r\n    ,   jQuery\r\n    ) {\r\n        'use strict';\r\n\r\n        return {\r\n            getOffset: function (elementSelector) {\r\n                if (jQuery.isNumeric(elementSelector)) {\r\n                    return elementSelector;\r\n                }\r\n\r\n                if (elementSelector.indexOf(\"#\") !== 0) elementSelector = \"#\" + elementSelector;\r\n\r\n                var offset;\r\n                if (typeof elementSelector === \"string\") offset = jQuery(elementSelector).offset();\r\n                else offset = elementSelector.offset();\r\n\r\n                return offset ? offset.top : 0;\r\n            }\r\n\r\n            , scrollToTab: function (e, selector) {\r\n                var self = this;\r\n                jQuery(e.target).on('shown.bs.tab', function () {\r\n                    self.scrollToPosition(e, selector);\r\n\r\n                }, this);\r\n            }\r\n\r\n            , scrollToPosition: function (e, selector) {\r\n                var self = this;\r\n\r\n                //console.log('scrollToPosition', selector, jQuery(selector));\r\n\r\n                jQuery('html, body').animate({\r\n                    scrollTop: self.getOffset(selector)\r\n                }, 300);\r\n            }\r\n\r\n            , getUrlParameter: function (sParam) {\r\n                var sPageURL = decodeURIComponent(window.location.search.substring(1));\r\n                if (!sPageURL) {\r\n                    var hashSplit = window.location.hash.split(\"?\");\r\n                    if (hashSplit.length === 2) {\r\n                        sPageURL = decodeURIComponent(hashSplit[1]);\r\n                    }\r\n                }\r\n                var sURLVariables = sPageURL.split('&'),\r\n                    sParameterName,\r\n                    i;\r\n\r\n                for (i = 0; i < sURLVariables.length; i++) {\r\n                    sParameterName = sURLVariables[i].split('=');\r\n\r\n                    if (sParameterName[0] === sParam) {\r\n                        return sParameterName[1];\r\n                    }\r\n                }\r\n            }\r\n\r\n            , mountToApp: function mountToApp(container) {\r\n                var self = this\r\n                ,   Layout = container.getLayout();\r\n\r\n                _.extend(Layout, {\r\n\r\n                    scrollToTab: self.scrollToTab\r\n\r\n                ,   scrollToPositionOnClick: function (eventParameter)\r\n                    {\r\n                        self.scrollToPosition(eventParameter, eventParameter.currentTarget.getAttribute('data-where'));\r\n                    }\r\n\r\n                ,   scrollToPositionOnLoad: function ()\r\n                    {\r\n                        var goToParam = self.getUrlParameter('go-to');\r\n\r\n                        if (goToParam) {\r\n                            setTimeout(function ()\r\n                            {\r\n                                self.scrollToPosition(null, \"#\"+goToParam);\r\n                            }, 1000)\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n                // adding events for elements of DOM with data-action=\"scroll-to\" as parameter.\r\n                _.extend(Layout.events, {\r\n                    'click [data-action=\"go-to\"]': 'scrollToPositionOnClick',\r\n                    'click [data-where]': 'scrollToPositionOnClick'\r\n                });\r\n\r\n                // handle auto scroll in links\r\n                Layout.on('afterAppendView', function ()\r\n                {\r\n                    //if(Configuration.get('developer.logginOn', false)) console.log('afterAppendTo - named anchors supported');\r\n                    Layout.scrollToPositionOnLoad()\r\n                });\r\n\r\n            }\r\n        };\r\n    });\r\n"},{"path":"\\Trevera\\Layout@1.0.0\\Modules\\NamedAnchors\\README.md","type":"text/markdown","contents":"Named Anchors Module \r\n\r\n1.0.0 Initial creation. Adds support for using named anchors. \r\nUsing data-action=\"go-to\" and data-where=\"#element\". Can also pass in URL using go-to=location\r\n"}],"deployment_time":1635441876413}